<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>FARUK 3D Wallpaper</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; }
        canvas { display: block; }
    </style>
</head>
<body>

<script type="module">
    import * as THREE from 'https://unpkg.com/three@0.150.1/build/three.module.js';
    import { FontLoader } from 'https://unpkg.com/three@0.150.1/examples/jsm/loaders/FontLoader.js';
    import { TextGeometry } from 'https://unpkg.com/three@0.150.1/examples/jsm/geometries/TextGeometry.js';

    let scene, camera, renderer, textMesh, torusKnot;
    let mouseX = 0, mouseY = 0;
    let windowHalfX = window.innerWidth / 2;
    let windowHalfY = window.innerHeight / 2;

    init();
    animate();

    function init() {
        // 1. SAHNE KURULUMU
        scene = new THREE.Scene();
        // Hafif sis ekleyelim derinlik için
        scene.fog = new THREE.FogExp2(0x000000, 0.0015);

        // 2. KAMERA
        camera = new THREE.PerspectiveCamera(55, window.innerWidth / window.innerHeight, 1, 2000);
        camera.position.z = 500;

        // 3. IŞIKLAR (Cart Curt kısmı burası)
        const ambientLight = new THREE.AmbientLight(0x404040, 2); // Genel loş ışık
        scene.add(ambientLight);

        // Fareyi takip edecek ana ışıklar (Biri mavi, biri turuncu)
        const pointLight1 = new THREE.PointLight(0x0088ff, 3, 800);
        pointLight1.position.set(-200, 200, 200);
        scene.add(pointLight1);

        const pointLight2 = new THREE.PointLight(0xff8800, 3, 800);
        pointLight2.position.set(200, -200, 200);
        scene.add(pointLight2);

        // 4. OBTJELER

        // A) Arka plan parçacıkları
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 1500;
        const posArray = new Float32Array(particlesCount * 3);
        for(let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 3000;
        }
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const particlesMaterial = new THREE.PointsMaterial({size: 3, color: 0xffffff});
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);


        // B) "FARUK" Yazısı için Font Yükleme
        const loader = new FontLoader();
        // İnternetten standart bir kalın font yüklüyoruz
        loader.load('https://unpkg.com/three@0.150.1/examples/fonts/helvetiker_bold.typeface.json', function (font) {
            const textGeo = new TextGeometry('FARUK', {
                font: font,
                size: 90, // Yazı boyutu
                height: 20, // Yazı kalınlığı (derinlik)
                curveSegments: 12,
                bevelEnabled: true, // Kenarları yumuşat
                bevelThickness: 2,
                bevelSize: 1,
                bevelOffset: 0,
                bevelSegments: 5
            });

            textGeo.computeBoundingBox();
            const centerOffset = - 0.5 * ( textGeo.boundingBox.max.x - textGeo.boundingBox.min.x );
            
            // Yazının materyali (Parlak, metalik)
            const textMaterial = new THREE.MeshStandardMaterial({ 
                color: 0xffffff, 
                roughness: 0.3, 
                metalness: 0.8 
            });
            
            textMesh = new THREE.Mesh(textGeo, textMaterial);
            textMesh.position.x = centerOffset;
            textMesh.position.y = -40; // Biraz aşağı alalım
            textMesh.position.z = 0;
            scene.add(textMesh);
        });

        // C) Etraftaki Dönen Halka (Torus Knot)
        const torusGeo = new THREE.TorusKnotGeometry( 180, 15, 100, 16 );
        const torusMat = new THREE.MeshStandardMaterial( { color: 0x333333, wireframe: true, emissive: 0x222222 } );
        torusKnot = new THREE.Mesh( torusGeo, torusMat );
        scene.add( torusKnot );


        // 5. RENDERER (Görüntüleyici)
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        // 6. OLAY DİNLEYİCİLERİ (Fare ve pencere boyutu)
        document.addEventListener('mousemove', onDocumentMouseMove);
        window.addEventListener('resize', onWindowResize);
    }

    function onWindowResize() {
        windowHalfX = window.innerWidth / 2;
        windowHalfY = window.innerHeight / 2;
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }

    // Fare hareketini yakalama
    function onDocumentMouseMove(event) {
        mouseX = (event.clientX - windowHalfX) * 0.5; // Hassasiyeti ayarlamak için 0.5 ile çarptım
        mouseY = (event.clientY - windowHalfY) * 0.5;
    }

    // 7. ANİMASYON DÖNGÜSÜ
    function animate() {
        requestAnimationFrame(animate);
        render();
    }

    function render() {
        // Kamerayı fareye göre hafifçe hareket ettir (Parallax efekti)
        camera.position.x += (mouseX - camera.position.x) * 0.05;
        camera.position.y += (-mouseY - camera.position.y) * 0.05;
        camera.lookAt(scene.position);

        // Objeleri döndür
        if (torusKnot) {
            torusKnot.rotation.x += 0.005;
            torusKnot.rotation.y += 0.008;
        }
        
        // Yazı yüklendiyse onu da çok hafif oynat
        if (textMesh) {
             textMesh.rotation.y = Math.sin(Date.now() * 0.001) * 0.1;
        }

        renderer.render(scene, camera);
    }
</script>
</body>
</html>
